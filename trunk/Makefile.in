#
# Makefile.in for libevhdns
# @configure_input@
# by pts@fazekas.hu at Sat Apr 24 21:17:36 CEST 2010
#

LIBS = @LIBS@
CC = @CC@
prefix = @prefix@
exec_prefix = @exec_prefix@
libdir = @libdir@
CFLAGS = @CFLAGS@
LIBTOOL = @LIBTOOL@
SHELL = @SHELL@
top_builddir = @top_builddir@
INSTALL = @INSTALL@

RELEASE = 1.4.13.2
SOURCES = evutil.c log.c evdns.c
HEADERS = config.h evdns.h event-internal.h event.h evutil.h log.h

.PHONY: clean distclean install pruduct-and-version all

all: libevhdns.la

libevhdns.la: evhdns.lo
	$(LIBTOOL) --mode=link $(CC) -release $(RELEASE) -o libevhdns.la evhdns.lo -rpath $(libdir) $(LIBS)

evhdns.c:   $(SOURCES)
	cat $(SOURCES) >evhdns.c

evhdns.lo: evhdns.c $(HEADERS) Makefile
	$(LIBTOOL) --mode=compile $(CC) -I. -DHAVE_CONFIG_H $(CFLAGS) -c evhdns.c

install: libevhdns.la
	$(INSTALL) -d $(libdir)
	$(LIBTOOL) --mode=install $(INSTALL) libevhdns.la $(libdir)/libevhdns.la

clean:
	rm -rf *.la *.lo *.o .libs evhdns.c

distclean: clean
	rm -f config.h Makefile test/Makefile sample/Makefile stamp-h1
	rm -f config.log config.status

product-and-version:
	@echo libevhdns-$(RELEASE)
